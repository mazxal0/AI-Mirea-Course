# EDA-CLI

## commands:

## overview

```bash
    eda-cli overview
```

Эта команда даёт возможность получить краткий обзор всех признаков в нашем dataset 

Единственный аргумент который нужно передать это путь

Есть опциональные параметры:
1) `--sep` - разделитель в csv файле
2) `--encoding` - кодировка

## report

Эта команда даёт возможность получить полный обзор всех признаков в нашем dataset с графиками и прочей полезной информацией

Единственный аргумент который нужно передать это путь

Есть опциональные параметры:
1) `--out-dir` - Путь куда сохранять все файлы, которые создаст наш отчет
2) `--sep` - Разделитель в csv файле
3) `--encoding` - Кодировка
4) `--max-hist-columns` - Максимум числовых колонок для гистограмм.
5) `--title` - Заголовок отчета о датасете
6) `--top-k-categories` - Сколько категориальных признаков выводить
7) `--max-rows-k-categories` - Сколько top-значений выводить для категориальных признаков

**Пример**
```bash
 eda-cli report data/example.csv --top-k-categories 2 --max-rows-k-categories 3
```

## HTTP API (HW04)

В рамках HW04 проект `eda-cli` расширен HTTP-сервисом на базе FastAPI.
HTTP-сервис оборачивает EDA-ядро из HW03 (summarize_dataset, missing_table,
compute_quality_flags) и предоставляет REST API для оценки качества CSV-датасетов.

### Запуск HTTP-сервиса

Из корня проекта выполните команду:

```bash
uv run uvicorn eda_cli.api:app --reload --port 8000
```
---

После запуска сервис будет доступен по адресам:

- http://127.0.0.1:8000  
- Swagger UI: http://127.0.0.1:8000/docs

---

## Эндпоинты API

### Системные

- `GET /health`  
  Проверка состояния сервиса.

---

### Оценка качества данных

- `POST /quality`  
  Оценка качества датасета по агрегированным признакам  
  (число строк, колонок, доля пропусков и т.д.).

- `POST /quality-from-csv`  
  Принимает CSV-файл, запускает EDA-ядро и возвращает  
  интегральную оценку качества датасета и набор флагов.

---

### Дополнительные эндпоинты (реализованы в HW04)

- `POST /quality-flags-from-csv`  
  Принимает CSV-файл и возвращает полный набор флагов качества данных,  
  включая эвристики, реализованные в HW03  
  (например, флаги константных колонок, высокой кардинальности,  
  проблем с пропусками и др.).

- `POST /summary-from-csv`  
  HTTP-обёртка над JSON-сводкой из HW03.  
  Возвращает краткую EDA-сводку по CSV-файлу  
  (размеры датасета, качество данных, эвристики).

- `GET /metrics`  
  Возвращает метрики работы сервиса:  
  количество запросов, среднюю задержку и последний успешный результат.

